{% extends "base.html" %}

{% block content %}
<h2 class="mb-4 text-2xl font-semibold">{{ playlist_name }} ({{ playlist|length }} tracks)</h2>

{% if playlist_page %}
    {% include 'components/search_form.html' %}

    {% include 'components/sort_options.html' %}

    {% include 'components/pagination.html' %}

    <div class="grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-5">
        {% for track in playlist_page %}
            {% include 'components/track_card.html' %}
        {% endfor %}
    </div>

    {% include 'components/pagination.html' %}

{% else %}
    <p class="mb-4 text-center">This playlist is empty.</p>
    <div class="flex justify-center">
        <form action="{{ url_for('main.remove_playlist_route', playlist_name=playlist_name) }}"
            method="post"
            onsubmit="return confirm('Are you sure you want to remove this empty playlist?');"
        >
            <button type="submit"
                    class="px-4 py-2 font-bold text-white bg-red-600 rounded hover:bg-red-500"
            >Remove Empty Playlist</button>
        </form>
    </div>
{% endif %}

{% endblock %}
