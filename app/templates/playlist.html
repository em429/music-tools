{% extends "base.html" %}

{% block content %}
<div class="flex justify-between items-center space-x-3">
    <h2 class="text-2xl font-semibold">{{ playlist_name }} ({{ playlist|length }} tracks)</h2>
    {% include 'components/sort_options.html' %}
</div>

{% if playlist_page %}
    <div class="grid grid-cols-1 gap-4 items-center mb-6 md:grid-cols-2">

        <div class="">
            {% include 'components/pagination.html' %}
        </div>
        <div class="">
            {% include 'components/search_form.html' %}
        </div>
    </div>

    <div class="grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-5">
        {% for track in playlist_page %}
            {% include 'components/track_card.html' %}
        {% endfor %}
    </div>

    {% include 'components/pagination.html' %}

{% else %}
    <p class="mb-4 text-center">This playlist is empty.</p>
    <div class="flex justify-center">
        <form action="{{ url_for('main.remove_playlist_route', playlist_name=playlist_name) }}"
            method="post"
            onsubmit="return confirm('Are you sure you want to remove this empty playlist?');"
        >
            <button type="submit"
                    class="px-4 py-2 font-bold text-white bg-red-600 rounded hover:bg-red-500"
            >Remove Empty Playlist</button>
        </form>
    </div>
{% endif %}

{% endblock %}
